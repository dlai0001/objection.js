var isPromise=require('./isPromise');function mapAfterAllReturn(arr,mapper,returnValue){var results=new Array(arr.length);var containsPromise=false;for(var i=0,l=arr.length;i<l;++i){results[i]=mapper(arr[i]);if(isPromise(results[i])){containsPromise=true;}}if(containsPromise){return Promise.all(results).then(function(){return returnValue;});}else{return returnValue;}}module.exports=mapAfterAllReturn;